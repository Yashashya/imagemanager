!function(a){a.fn.imagemanager=function(e){var i=a.extend({ajaxLink:window.location.href,addButtonText:"Add Images",addButtonClass:"btn btn-primary btn-block",multiSelect:!1,ittrateItem:{},inputTagName:"imager[]"},e),t='<div class="imageparker modal" aria-hidden="false"><div class="modal-dialog"><div class="modal-content"><div class="modal-header"><button type="button" class="close" data-dismiss="modal" aria-hidden="true" tabindex="-1">&times;</button><h4>Image Picker</h4></div><div class="modal-body imageparker-body"></div><div class="modal-footer"><button href="#" class="btn btn-primary imageparker-image-btn " >Add</button></div></div></div></div>',s='<div class="row"><div class="col-md-2 col-sm-2"><button type="button" class="'+i.addButtonClass+' image-adder">'+i.addButtonText+"</button></div></div>",d='<div class="row"><div class="col-md-12 col-sm-12"><div class="rectengi"><ul class="thumbnails image_picker_adaptor"></ul></div></div></div>';if(this.parents("body").hasClass("imageparker")||this.parents("body").append(t),$dialog=a(".imageparker"),a(this).append(s),a(this).append(d),Object.keys(i.ittrateItem).length>0)for(var l=Object.keys(i.ittrateItem),n=0;n<l.length;n++){var r="<li>";r+='<div class="thumbnail"><img class="image_picker_image" src="'+i.ittrateItem[l[n]]+'" /><input type="hidden" name="'+i.inputTagName+'" value="'+l[n]+'" /></div>',r+='<i class="fa  fa-times-circle"></i>',r+="</li>",a(".rectengi .thumbnails").append(r)}return a(".image-adder").click(function(){a.ajax({url:i.ajaxLink,dataType:"html",success:function(e){$dialog.find(".imageparker-body").html(e),a(".imageparker").modal()}})}),a(".imageparker-body").on("click",".thumbnail",function(){i.multiSelect?a(this).hasClass("selected")?a(this).removeClass("selected"):a(this).addClass("selected"):(a(".thumbnail").removeClass("selected"),a(this).addClass("selected"))}),a(".imageparker-image-btn").click(function(){return a(".selected").length<=0?void alert("please select image"):void a(".selected").each(function(){var e="<li>";e+='<div class="thumbnail"><img class="image_picker_image" src="'+a(this).find("img").attr("src")+'" /><input type="hidden" name="'+i.inputTagName+'" value="'+a(this).find("img").attr("data-tag")+'" /></div>',e+='<i class="fa  fa-times-circle"></i>',e+="</li>",a(".rectengi .thumbnails").append(e),a(".imageparker").modal("hide")})}),a("body").on("click",".image_picker_adaptor li i",function(){a(this).parents("li").remove()}),this}}(jQuery);